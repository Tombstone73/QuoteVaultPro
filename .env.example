# Database Configuration
# Get a free PostgreSQL database from Neon: https://neon.tech
# Format: postgresql://user:password@host/database?sslmode=require
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Session Secret (generate a random string)
SESSION_SECRET=your-super-secret-session-key-change-this

# Node Environment
NODE_ENV=development

# Frontend API Base URL (Vercel Production REQUIRED)
# In production (Vercel deployment), this MUST point to the Railway backend
# to establish session cookies under the Railway domain.
# Development: Leave empty or omit (uses relative URLs to local backend)
VITE_API_BASE_URL=https://quotevaultpro-production.up.railway.app

# ===== BACKGROUND WORKERS CONFIGURATION =====
# Control background workers to prevent Neon compute burn in dev/preview environments
# 
# Global kill switch (overrides all per-worker settings):
# WORKERS_ENABLED=false    # Disables ALL workers regardless of per-worker flags
# WORKERS_ENABLED=true     # Allows per-worker flags to work (default in production)
#
# Default behavior (when WORKERS_ENABLED is not set):
# - Production: Workers default to ENABLED unless explicitly disabled
# - Non-production (dev/preview): Workers default to DISABLED unless explicitly enabled
#
# Per-worker enable/disable:
# WORKER_THUMBNAILS_ENABLED=true       # Enable thumbnail generation worker
# WORKER_ASSET_PREVIEW_ENABLED=true    # Enable asset preview worker
# WORKER_QB_SYNC_ENABLED=true          # Enable QuickBooks sync job processor
# WORKER_QB_QUEUE_ENABLED=true         # Enable QuickBooks invoice/payment queue worker
#
# Per-worker interval overrides (milliseconds):
# WORKER_THUMBNAILS_INTERVAL_MS=10000      # Thumbnail worker poll interval (default: 10s prod, 5min non-prod)
# WORKER_ASSET_PREVIEW_INTERVAL_MS=600000  # Asset preview poll interval (default: 10min prod, 5min non-prod)
# WORKER_QB_SYNC_INTERVAL_MS=30000         # QB sync job processor interval (default: 30s prod, 5min non-prod)
# WORKER_QB_QUEUE_INTERVAL_MS=300000       # QB queue worker interval (default: 5min all envs)
#
# Legacy env vars (still supported for backwards compatibility):
# THUMBNAIL_WORKER_POLL_INTERVAL_MS=10000
# QB_SYNC_QUEUE_INTERVAL_MS=300000
#
# Example: Enable only thumbnails worker in development with 1min polling:
# WORKER_THUMBNAILS_ENABLED=true
# WORKER_THUMBNAILS_INTERVAL_MS=60000

# Optional: Replit OIDC (only needed if using Replit authentication)
# REPL_ID=your-repl-id
# ISSUER_URL=https://replit.com

# QuickBooks Integration (optional)
# Get credentials from: https://developer.intuit.com
# QUICKBOOKS_CLIENT_ID=your-client-id
# QUICKBOOKS_CLIENT_SECRET=your-client-secret
# QUICKBOOKS_REDIRECT_URI=http://localhost:5000/api/integrations/quickbooks/callback
# QUICKBOOKS_ENVIRONMENT=sandbox # or 'production'

# Stripe Payments v1
# STRIPE_SECRET_KEY: Stripe Dashboard → Developers → API keys (secret key)
STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET: Stripe CLI `stripe listen` output (whsec_...) or Dashboard endpoint secret
STRIPE_WEBHOOK_SECRET=
# VITE_STRIPE_PUBLISHABLE_KEY: Stripe Dashboard → Developers → API keys (publishable key)
VITE_STRIPE_PUBLISHABLE_KEY=

